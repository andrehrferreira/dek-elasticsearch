{"version":3,"sources":["../src/index.js"],"names":["env","process","hosts","ELASTICSEARCH_HOST","indexOf","split","elasticsearch","Elasticsearch","Client","DEBUG","console","log","$","set","e","message"],"mappings":";;;;;;AAAA;;AACA;;;;;;kBAEe,YAAM;AACjB,QAAG;AACC,YAAIA,MAAMC,QAAQD,GAAlB;AACA,YAAIE,QAASF,IAAIG,kBAAJ,CAAuBC,OAAvB,CAA+B,GAA/B,IAAsC,CAAC,CAAxC,GAA6CJ,IAAIG,kBAAJ,CAAuBE,KAAvB,CAA6B,GAA7B,CAA7C,GAAiFL,IAAIG,kBAAjG;AACA,YAAIG,gBAAgB,IAAIC,wBAAcC,MAAlB,CAA0B,EAAEN,OAAOA,KAAT,EAA1B,CAApB;;AAEA,YAAGD,QAAQD,GAAR,CAAYS,KAAZ,IAAqB,MAAxB,EACIC,QAAQC,GAAR;;AAEJC,iBAAEC,GAAF,CAAM,eAAN,EAAuBP,aAAvB;AACH,KATD,CAUA,OAAOQ,CAAP,EAAU;AACNJ,gBAAQC,GAAR,0BAAmCG,EAAEC,OAArC;AACH;AACJ,C","file":"index.js","sourcesContent":["import { $ } from \"@dekproject/scope\";\nimport Elasticsearch from 'elasticsearch';\n\nexport default () => {\n    try{\n        let env = process.env;\n        let hosts = (env.ELASTICSEARCH_HOST.indexOf(\",\") > -1) ? env.ELASTICSEARCH_HOST.split(\",\") : env.ELASTICSEARCH_HOST\n        let elasticsearch = new Elasticsearch.Client( { hosts: hosts });\n\n        if(process.env.DEBUG == 'true')\n            console.log(`[ Elasticsearch ] - Elasticsearch successfully signed`);\n\n        $.set(\"elasticsearch\", elasticsearch);\n    }\n    catch (e) {\n        console.log(`[ Elasticsearch ] - ${e.message}`);\n    }\n}\n"]}